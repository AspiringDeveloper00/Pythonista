<!DOCTYPE html>
<html lang="en">

<head>
    <title>Pythonista: Students</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='images/favicon.ico') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/navbar.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/questions.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/students.css') }}">
</head>


<body>

    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    {% for category, message in messages %}
    <script>
      Swal.fire({
        icon: '{{category}}',
        text: '{{message}}'
      });
    </script>
    {% endfor %}
    {% endif %}
    {% endwith %}
    <header>
        <nav class="navbar navbar-dark navbar-expand-lg  fixed-top " id="primary-nav">
            <div class="container-fluid left">
                <a class="navbar-brand" id="logo" href="#">
                    <img src="{{ url_for('static', filename='images/logo-purple.png') }}" class="logo-icon" alt="">
                    <span class="name-top"><b>Pythonista</b></span>
                </a>
                <button id="hamburger" class="navbar-toggler collapsed" type="button" data-toggle="collapse"
                    data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span id="span-1"> </span>
                    <span> </span>
                    <span id="span-3"> </span>
                </button>
                <div id="navbarCollapse" class="collapse navbar-collapse">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a href="index" class="nav-link nav-link-fade-up ">
                                Home
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="questions" class="nav-link nav-link-fade-up">
                                Add test question
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="students" class="nav-link nav-link-fade-up active">
                                Students
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="logout" class="nav-link nav-link-fade-up">
                                Logout
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <table class="table table-dark table-responsive-sm">
        <thead>
          <tr>
            <th scope="col">Username</th>
            <th scope="col">Email</th>
            <th scope="col">Quickstart</th>
            <th scope="col">Chapter 1</th>
            <th scope="col">Chapter 2</th>
            <th scope="col">Chapter 3</th>
            <th scope="col">Basics Test</th>
            <th scope="col">Chapter 4</th>
            <th scope="col">Chapter 5</th>
            <th scope="col">Chapter 6</th>
            <th scope="col">Advanced Test</th>
            <th scope="col">Chapter 7</th>
            <th scope="col">Chapter 8</th>
            <th scope="col">Chapter 9</th>
            <th scope="col">Expert Test</th>
            <th scope="col">Average</th>
          </tr>
        </thead>
        <tbody>
            
            {% for student in students %}
          <tr>
            <td>{{student[0]}}</td>
            <td>{{student[1]}}</td>
            {% if student[3]!=None %}
            {% set scores=student[3].split(',') %}
            {% for score in scores %}
            <td>{{score}}</td>
            {%endfor%}
            {% for i in range(13-scores|length)%}
            <td>-</td>
            {%endfor%}
            {% else %}
            {% for i in range (13)%}
            <td>-</td>
            {%endfor%}
            {%endif%}
            <td>{{student[4]}}</td>
          </tr>
          {%endfor%}
        </tbody>
      </table>
      
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="{{ url_for('static', filename='javascript/animate.js') }}"></script>
    <script src="{{ url_for('static', filename='javascript/navbar.js') }}"></script>
    <script>
        AOS.init();
    </script>
</body>

</html>